{"title":"ç®€å•ï¼è½»æ¾ä½¿ç”¨react-navigation","date":"2019-03-03T16:23:23.000Z","author":"JamesğŸ’","thumbnail":"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1562520566509&di=b84e74dec6b6b76ca9783b8f00b1daee&imgtype=0&src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F01f4a158a5bf78a801219c775abd4e.jpg%401280w_1l_2o_100sh.png","link":"post/rn-reactnavigation","tags":["Hybrid"],"categories":["React Native"],"updated":"2019-07-07T14:45:11.697Z","content":"<p>å½“æˆ‘è‡ªå·±åœ¨ä½¿ç”¨react-navigationæ—¶ï¼Œæˆ‘é‡åˆ°ä¸€äº›é—®é¢˜ï¼Œè­¬å¦‚å¦‚ä½•ä½¿ç”¨å®ƒæä¾›çš„æŠ½å±‰è§†å›¾ï¼Ÿ æŠ½å±‰è§†å›¾ä¸­ï¼Œæ¯ä¸€ä¸ªåˆ—è¡¨å‰é¢çš„å›¾æ ‡åˆè¯¥å¦‚ä½•è®¾ç½®ï¼Ÿå†å¦‚æ€ä¹ˆç»“åˆtabNavigatorå’ŒdrawerNavigatorï¼Ÿ</p>\n<p>  åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ç»™å¤§å®¶ä»‹ç»ä¸‹å¦‚ä½•ä½¿ç”¨react-navigationä¸­çš„ï¼ŒstackNavigator,switchNavigaotr,Drawernavigator,ä»¥åŠTab Navigatorï¼Œä»–ä»¬æ˜¯æ€ä¹ˆæ ·ç»“åˆåœ¨ä¸€èµ·å·¥ä½œçš„ã€‚</p>\n<p>å…ˆç»™å¤§å®¶çœ‹çœ‹æœ€ç»ˆçš„æ•ˆæœå›¾ï¼Œç„¶åæˆ‘ä»¬å†æ¥ä¸€æ­¥ä¸€æ­¥å®ç°ã€‚è¯ä¸å¤šè¯´ï¼ŒLetâ€™s dive in.</p>\n<div class=\"article-img\"><p><img src=\"https://user-gold-cdn.xitu.io/2019/7/7/16bcc56936e1a899?w=384&h=858&f=gif&s=243846\" alt data-zoomable></p></div>\n<p>æ•ˆæœå°±æ˜¯å¦‚gifå›¾æ‰€ç¤ºï¼ŒåŒ…å«æœ€åŸºæœ¬çš„åº•éƒ¨å¯¼èˆªï¼Œæ­£å¸¸çš„é¡µé¢é—´å¯¼èˆªï¼Œè¿˜æœ‰æŠ½å±‰è§†å›¾ï¼›åœ¨è¿™ä¸ªå›¾é‡Œæ²¡æœ‰å±•ç¤ºswitchNavigatorï¼Œè¿™æ˜¯ç”¨æ¥åˆ‡æ¢æ ¹è§†å›¾çš„ï¼Œå¾ˆç®€å•ï¼Œåé¢ä¼šè®²åˆ°ã€‚ä¸€ä¸ªä¸€ä¸ªæ¥</p>\n<p>å¦‚æœä½ ç›´æ¥æƒ³çœ‹é¡¹ç›®ä»£ç ï¼Œè¿™æ˜¯ä¼ é€é—¨ï¼š  </p>\n<p>é¡¹ç›®åœ°å€ï¼š<a href=\"https://github.com/JamesInGod/react-navigation-example\" target=\"_blank\" rel=\"noopener\">ä¼ é€é—¨</a></p>\n<h3 id=\"å †æ ˆè§†å›¾-stacknavigator\">å †æ ˆè§†å›¾,stacknavigator<a href=\"post/rn-reactnavigation#å †æ ˆè§†å›¾-stacknavigator\"></a></h3><figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123;createStackNavigator&#125; from &apos;react-navigation&apos;;</span><br><span class=\"line\">import HomeDetailView from &apos;../../views/home/HomeDetailView&apos;</span><br><span class=\"line\">import HomeView from &apos;../../views/home/HomeView&apos;</span><br></pre></td></tr></table></div></figure>\n\n<p>å¼•å…¥æ‰€æœ‰ä½ æƒ³æ”¾åœ¨ä¸»é¡µå †æ ˆè§†å›¾çš„é¡µé¢ï¼Œæ³¨æ„è·¯å¾„æ˜¯å¦æ­£ç¡®  </p>\n<p>ç„¶åå®ç°è¿™ä¸ªå‡½æ•°ï¼Œåˆ›å»º<code>HomeViewStack</code>,åœ¨åšæ–‡é‡Œæˆ‘åªæ”¾å…¥äº†æ ¸å¿ƒä»£ç ï¼Œå…·ä½“é¡¹ç›®ä¸­ï¼Œæˆ‘åšäº†ä¸€äº›æŠ½ç¦»ï¼Œæ–¹ä¾¿ç†è§£</p>\n<figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">createStackNavigator(&#123;</span><br><span class=\"line\">        HomeView: HomeView,</span><br><span class=\"line\">        HomeDetailView: HomeDetailView</span><br><span class=\"line\">    &#125;)</span><br></pre></td></tr></table></div></figure>\n\n<p>å†åˆ›å»º<code>DiscoverViewStack,MoreViewStack</code></p>\n<h3 id=\"æŠ½å±‰è§†å›¾ï¼ŒDrawer-Navigator\">æŠ½å±‰è§†å›¾ï¼ŒDrawer Navigator<a href=\"post/rn-reactnavigation#æŠ½å±‰è§†å›¾ï¼ŒDrawer-Navigator\"></a></h3><figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">createDrawerNavigator(</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            æ›´å¤š: &#123;</span><br><span class=\"line\">                screen: MoreViewStack,</span><br><span class=\"line\">                navigationOptions: () =&gt; (&#123;</span><br><span class=\"line\">                    drawerLabel: &apos;æ›´å¤š&apos;,</span><br><span class=\"line\">                    drawerIcon: (&#123; tintColor &#125;) =&gt; (</span><br><span class=\"line\">                        &lt;Ionicons name=&#123;&apos;ios-chatbubbles&apos;&#125; size=&#123;20&#125; color=&#123;tintColor&#125; /&gt;</span><br><span class=\"line\">                    )</span><br><span class=\"line\"></span><br><span class=\"line\">                &#125;),</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            å…³äº: &#123;</span><br><span class=\"line\">                screen: AboutView,</span><br><span class=\"line\">                navigationOptions: &#123;</span><br><span class=\"line\">                    drawerLabel: &apos;å…³äº&apos;,</span><br><span class=\"line\">                    drawerIcon: (&#123; tintColor &#125;) =&gt; (</span><br><span class=\"line\">                        &lt;Ionicons name=&#123;&apos;ios-navigate&apos;&#125; size=&#123;20&#125; color=&#123;tintColor&#125; /&gt;</span><br><span class=\"line\">                    )</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            contentComponent: CustomDrawerComponent,</span><br><span class=\"line\">            drawerWidth: 300,</span><br><span class=\"line\">            contentOptions: &#123;</span><br><span class=\"line\">                activeTintColor: &apos;#6F18F0&apos;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    )</span><br></pre></td></tr></table></div></figure>\n\n<p>è¿™é‡Œï¼Œæˆ‘ç›´æ¥å°†MoreViewStack æ”¾å…¥äº†æŠ½å±‰è§†å›¾ï¼Œæ¥ç€å¾€ä¸‹çœ‹ï¼Œæˆ‘ä¼šå°†stackNavigaotrï¼ŒDrawerNavigator,tabNavigatorç»“åˆä¸€èµ·ä½¿ç”¨</p>\n<h3 id=\"åº•éƒ¨å¯¼èˆª-Tab-Navigator\">åº•éƒ¨å¯¼èˆª,Tab Navigator<a href=\"post/rn-reactnavigation#åº•éƒ¨å¯¼èˆª-Tab-Navigator\"></a></h3><p>æˆ‘ä»¬æ¥çœ‹å¦‚ä½•å®ç°åº•éƒ¨å¯¼èˆªï¼Œtab navigator     </p>\n<figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123; createBottomTabNavigator &#125; from &apos;react-navigation&apos;;</span><br></pre></td></tr></table></div></figure>\n\n<p>ç„¶åå®ç°è¿™ä¸ªå«åšcreateBottomTabNavigatorçš„å‡½æ•°</p>\n<figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">createBottomTabNavigator(</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            ä¸»é¡µ: HomeViewStack,</span><br><span class=\"line\">            å‘ç°: DiscoverViewStack,</span><br><span class=\"line\">            æ›´å¤š: DrawerNavigator</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">             defaultNavigationOptions: (&#123; navigation &#125;) =&gt; (&#123;</span><br><span class=\"line\">                tabBarIcon: (&#123; focused, horizontal, tintColor &#125;) =&gt; &#123;</span><br><span class=\"line\">                    const &#123; routeName &#125; = navigation.state;</span><br><span class=\"line\">                    let IconComponent = Ionicons;</span><br><span class=\"line\">                    let iconName;</span><br><span class=\"line\">                    if (routeName === &apos;ä¸»é¡µ&apos;) &#123;</span><br><span class=\"line\">                        iconName = `ios-navigate`;</span><br><span class=\"line\">                       return &lt;IconComponent name=&#123;iconName&#125; size=&#123;25&#125; color=&#123;tintColor&#125; /&gt;;</span><br><span class=\"line\">                    &#125; else if (routeName === &apos;å‘ç°&apos;) &#123;</span><br><span class=\"line\">                        iconName = `ios-chatbubbles`;</span><br><span class=\"line\">                        return &lt;IconComponent name=&#123;iconName&#125; size=&#123;25&#125; color=&#123;tintColor&#125; /&gt;;</span><br><span class=\"line\">                    &#125; else &#123;</span><br><span class=\"line\">                        iconName = `ios-more`;</span><br><span class=\"line\">                        return &lt;IconComponent name=&#123;iconName&#125; size=&#123;25&#125; color=&#123;tintColor&#125; /&gt;;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                &#125;,</span><br><span class=\"line\">            &#125;),</span><br><span class=\"line\">            tabBarOptions: &#123;</span><br><span class=\"line\">                activeTintColor: &apos;tomato&apos;,</span><br><span class=\"line\">                inactiveTintColor: &apos;gray&apos;,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            initialRouteName: &quot;ä¸»é¡µ&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    )</span><br></pre></td></tr></table></div></figure>\n\n<p>æ ¸å¿ƒä»£ç ï¼Œå°±æ˜¯è¿™æ ·äº†ã€‚æ•´ä½“æ€è·¯å¦‚ä¸‹</p>\n<div class=\"article-img\"><p><img src=\"https://user-gold-cdn.xitu.io/2019/7/7/16bcc4c5fcd29598?w=871&h=343&f=png&s=28442\" alt data-zoomable></p></div>\n<p>å®Œæ•´çš„é¡¹ç›®ï¼Œæˆ‘æ”¾åœ¨gayhubä¸Šï¼Œé‚£é‡Œæœ‰è¯¦å°½çš„ä»£ç ï¼Œè¿™ç¯‡åšæ–‡æä¾›äº†å¤§è‡´çš„æ€è·¯ï¼Œå¹¶æ²¡æœ‰éå¸¸è¯¦ç»†çš„æè¿°å®ç°ç»†èŠ‚ã€‚å¦‚æœçœ‹äº†é¡¹ç›®ä»£ç è¿˜æœ‰ä¸æ¸…æ¥šçš„ï¼Œè¯·åœ¨gayhubä¸Šç•™è¨€.</p>\n<p>é¡¹ç›®åœ°å€ï¼š<a href=\"https://github.com/JamesInGod/react-navigation-example\" target=\"_blank\" rel=\"noopener\">ä¼ é€é—¨</a></p>\n<p>æœ‰ä»€ä¹ˆä¸å¯¹çš„åœ°æ–¹ï¼Œä¹Ÿè¯·å¤§å®¶æŒ‡æ­£ï¼Œå…±åŒè¿›æ­¥</p>\n","prev":{"title":"è¶…ç®€å•ï¼IOSï¼Œåœ¨Appä¸­ä½¿ç”¨Safariæ‰“å¼€ç½‘é¡µï¼ˆswiftï¼‰","link":"post/ios-safariview"},"next":{"title":"ä¸‰æ­¥æå®šï¼React Native å¼•ç”¨å­—ä½“å›¾æ ‡","link":"post/rn-iconfont"},"plink":"http://yoursite.com/post/rn-reactnavigation/"}