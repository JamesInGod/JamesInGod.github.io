{"title":"Vue 如何动态的变换CSS样式？","date":"2019-08-19T16:00:00.000Z","author":"James🐒","thumbnail":"https://cn.bing.com/th?id=OIP.hBBaGgxVktKf2qU9nksR4AAAAA&pid=Api&rs=1","link":"post/vue-dynamic-css","tags":["Vue"],"categories":["JS"],"updated":"2019-08-20T06:08:48.968Z","content":"<p>在网页开发中，我们经常会遇到动态的改变某个元素样式的需求，在vue里如何实现呢？我自己总结了三种方式</p>\n<h2 id=\"1-class，三元表达式\">1.class，三元表达式<a href=\"post/vue-dynamic-css#1-class，三元表达式\"></a></h2><p>根据三元表达式来动态的在两种样式间切换</p>\n<figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:class=&quot;[item.isPlaying ? &apos;playing&apos; : &apos;&apos;, &apos;drum-item’]&quot;</span><br></pre></td></tr></table></div></figure>\n\n<h2 id=\"2-style-“xxxxx”-这里xxx可以是个函数，也可以是个计算属性\">2.:style=“xxxxx”,这里xxx可以是个函数，也可以是个计算属性<a href=\"post/vue-dynamic-css#2-style-“xxxxx”-这里xxx可以是个函数，也可以是个计算属性\"></a></h2><p>函数：</p>\n<figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:style=&quot;handleStyle(second)”</span><br><span class=\"line\">......</span><br><span class=\"line\">handleStyle(deg) &#123;</span><br><span class=\"line\">    return &#123; transform: &quot;rotate(&quot; + deg + &quot;deg)&quot; &#125;;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></div></figure>\n\n<p>计算属性：</p>\n<figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">:style=“imgStyle”</span><br><span class=\"line\">......</span><br><span class=\"line\">imgStyle() &#123;</span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">        padding: this.spacing + &quot;px&quot;,</span><br><span class=\"line\">        filter: `blur($&#123;this.blur&#125;px)`,</span><br><span class=\"line\">        backgroundColor: this.base</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></div></figure>\n\n<p>这两种方式很像，区别在于，使用方法的时候，视图刷新，函数就会重新计算一遍值。计算属性，会把以前的值缓存起来，没有变化，就不会计算，直接返回以前的值</p>\n<h2 id=\"3-使用css变量，通过观察属性来动态的改变样式\">3.使用css变量，通过观察属性来动态的改变样式<a href=\"post/vue-dynamic-css#3-使用css变量，通过观察属性来动态的改变样式\"></a></h2><p>譬如，我现在有这样一个css变量</p>\n<figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.spantext &#123;</span><br><span class=\"line\">    color: var(--color);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<p>现在通过观察属性，监听某个特定值的变化</p>\n<figure class=\"highlight plain\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">watch: &#123;</span><br><span class=\"line\">    base: function(newValue, oldValue) &#123;</span><br><span class=\"line\">        this.updateColor();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">updateColor() &#123;</span><br><span class=\"line\">    this.$el.style.setProperty(&quot;--color&quot;, this.base);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<p>目前总结出了三种，如果后面还发现有新的方式，再行记录。</p>\n","next":{"title":"Flutter页面跳转到IOS原生界面   如何实现？","link":"post/flutter-ios-conmmunicate"},"plink":"http://yoursite.com/post/vue-dynamic-css/","toc":[{"title":"1.class，三元表达式","id":"1-class，三元表达式","index":"1"},{"title":"2.:style=“xxxxx”,这里xxx可以是个函数，也可以是个计算属性","id":"2-style-“xxxxx”-这里xxx可以是个函数，也可以是个计算属性","index":"2"},{"title":"3.使用css变量，通过观察属性来动态的改变样式","id":"3-使用css变量，通过观察属性来动态的改变样式","index":"3"}]}